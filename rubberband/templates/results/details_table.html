{% if file.solver == "GENIOS" %}
{% set cols = [{"name": "MemRatio", "type": "number"}] %}
{% else %}
{% set cols = [{"name": "Status", "type": "text"}] %}
{% end %}
    <thead>
      <tr>
      <th class="text">Instance Name</th>
      <th class="text">Type</th>
      <th class="number">Original Cons</th>
      <th class="number">Original Vars</th>
      <th class="number">Presolved Cons</th>
      <th class="number">Presolved Vars</th>
      <th class="number">Dual Bound</th>
      <th class="number">Primal Bound</th>
      <th class="number">Gap %</th>
      <th class="number">Iterations</th>
      <th class="number">Nodes</th>
      <th class="number">Solving Time</th>
      <th class="number">Total Time</th>
      {% for i in cols %}
      <th class="{{ i["type"] }}">{{ i["name"] }}</th>
      {% end %}
      </tr>
    </thead>
    <tbody>
      {% for name, r in file.children.to_dict().items() %}
      {% if not compare or name in sets["intersection"] %}
      <tr>

        {% if compare %}
        <!-- <td><a href="/result/{{ file.meta.id }}/instance/{{ r.meta.id }}?compare={{ ",".join([c.meta.id for c in compare]) }}">{{ shorten_str(r.instance_name) }}</a></td> -->
          <td>
            {% set href="/result/{fileid}/instance/{rid}?compare={compare}".format(fileid=file.meta.id, rid=r.meta.id, compare=','.join([c.meta.id for c in compare])) %}
            {% raw get_link(href, r.instance_name) %}
          </td>
        {% else %}
          <td><a href="/result/{{ file.meta.id }}/instance/{{ r.meta.id }}">{{ r.instance_name }}</a></td>
        {% end %}

        {% set objsen = get_objsen(compare + [file], name) %}

        {% for i in ["instance_type", "OriginalProblem_InitialNCons", "OriginalProblem_Vars", "PresolvedProblem_InitialNCons", "PresolvedProblem_Vars", "DualBound", "PrimalBound", "Gap", "Iterations", "Nodes", "TotalTime_solving", "SolvingTime"] %}

          {% if compare %}
            <td title="{{ format_attrs(compare, i, name) }}"{% if (i == "DualBound" and objsen > 0) or (i == "PrimalBound" and objsen < 0) %} invert="yes"{% end %} class="{{ format_type(r, i) }} {{ i }}"{% if (i == "DualBound") %} compare="{{ format_attrs(compare + [file], "PrimalBound", name) }}"{% end %}{% if (i == "PrimalBound") %} compare="{{ format_attrs(compare + [file], "DualBound", name) }}"{% end %}>{{ format_attr(r, i) }}</td>
          {% else %}
            <td class="{{ format_type(r, i) }}">{{ format_attr(r, i) }}</td>
          {% end %}

        {% end %}

        {% for i in cols %}

          {% if compare %}
            <td title="{{ format_attrs(compare, i["name"], name) }}" class="{{ format_type(r, i["name"]) }} {{ i["name"] }}">{{ format_attr(r, i["name"]) }}</td>
          {% else %}
            <td class="{{ format_type(r, i["name"]) }}">{{ format_attr(r, i["name"]) }}</td>
          {% end %}

        {% end %}

      </tr>
      {% end %}
      {% end %}
    </tbody>

