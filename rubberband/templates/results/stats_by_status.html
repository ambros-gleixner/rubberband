{% for status in ["all", "ok", "better", "solved not verified", "timelimit", "memorylimit", "unknown", "fail"] %}
  {% if status in file.stats %}
    <h4>{{ status }} ({{file.stats[status].to_dict().pop("count", 0)}})</h4>
    <table class="stats-table table table-bordered">
      <thead>
        <tr>
        {% for i in file.stats[status] %}
          <th class="col-md-2" colspan={{ len(file.stats[status][i].to_dict()) }}>{{i}}</th>
        {% end %}
        </tr>
        <tr>
        {% for i in file.stats[status] %}
          {% for j in file.stats[status][i] %}
            <th>{{j}}</th>
          {% end %}
        {% end %}
        </tr>
      </thead>
      <tbody>
      {% for f in [file] + compare %}
      {% set fstats = f.stats.to_dict().get(status, {}) %}
      <tr class="bs-tooltip" data-toggle="tooltip" data-container="body" data-placement="top" title="{{ format_attr(f, 'filename') }} on {{ format_attr(f, 'git_commit_timestamp') }}" count="{{ fstats.pop('count', 0) }}">
        {% for i in fstats %}
          {% for j in fstats.get(i,{}) %}
            <td>{{ fstats.get(i,{}).get(j,0) }}</td>
          {% end %}
        {% end %}
        </tr>
      {% end %}
      </tbody>
    </table>
  {% end %}
{% end %}
