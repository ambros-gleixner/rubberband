<div aria-labelledby="evaluation-tab" role="tabpanel" class="tab-pane fade" id="evaluation">

  <!-- headline ==================================================================== -->
  <h2 class="rb-details-tab-title">Evaluation</h2>
  <!-- end headline ==================================================================== -->

  <!-- eval form ==================================================================== -->
  <div class="alert alert-secondary">
    <form id="ipet-eval-form">

    <h3>Testruns</h3>
    <div class="rb-testrun-table">
      {% raw ipet_legend_table %}
    </div>

    <h3>IPET Evaluation</h3>
    <div class="row">
      <div class="form-group col-12 col-sm-6">
        <div class="row">
          <label class="col-form-label col-6">
            Select an IPET evaluation:</label>
          <div class="col-6">
            <select class="form-control" name="ipet-eval-file" id="ipet-eval-file-select">
              {% for id,e in evals.items() %}
              <option value="{{ id }}">{{ e["name"] }}</option>
              {% end %}
            </select>
          </div>
        </div>
      </div>

      <div class="form-group col-12 col-sm-6">
        <div class="row">
          <label class="col-form-label col-6">
            Adjust feasibility tolerance:</label>
          <div class="col-6">
            <input class="form-control" id="eval-tolerance-slider" type="text" value="-6"
               data-slider-min="-9" data-slider-max="-3" data-slider-step="1" data-slider-value="-6"
               data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="show">
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="row">
          <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
            <button type="button" class="btn btn-block btn-primary"   id="ipet-eval-button">Evaluate</button>
          </div>
          <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
            <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-show-log">Show Info Window</button>
          </div>
          <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
            <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-show-button">Show evalfile</button>
          </div>
          <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
            <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-download-button">Download evalfile</button>
          </div>
          <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
            <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-latex-button">Generate latex table*</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  </form>
  <!-- end eval form ==================================================================== -->

  {% include "evaluation.html" %}
  <p style="color:#c00">
  * Experimental feature: Use it with "group by githash..." and make sure you are comparing two runs or two seeded/permutation runs.
  </p>
  <br />

  {% if sets.get("difference") %}
  <h4>Exclusions</h4>
  <p>The following {{ len(sets["difference"]) }} instances are not present in all of the compared test sets, and have therefore been ommitted from the tables below:<br \>
  <p class="exclusions">
  {{", ".join(sets['difference'])}}</p>
  </p>
  {% end %}

  <div>
    <p>
    In the IPET long table all instances are displayed. These that are only present in one testrun have a NaN in one of the columns (i.e. Time).
    </p>
    <p>
    In the IPET aggregated table however only the filtergroups are displayed.
    These take into account only instances with the highest number of occurrences, in most cases that will be the number of testruns.
    So generally in the aggregated table you will get statistics for the instances that are present in all testruns.
    </p>
  </div>
</div>
