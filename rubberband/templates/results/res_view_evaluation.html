<div aria-labelledby="evaluation-tab" role="tabpanel" class="tab-pane fade" id="evaluation">

  <!-- headline ==================================================================== -->
  <div class="rb-details-tab-buttons row justify-content-end">
    <a class="bs-tooltip ml-2 mr-2" data-toggle="tooltip" data-placement="top" href="/statistics/{{file.meta.id}}{% if compare %}?compare={{ ",".join([c.meta.id for c in compare]) }}{% end %}" title="custom statistics">
      <span class="fa fa-filter"></span></a>
    </a>
  </div>

  <h2 class="rb-details-tab-title">IPET Evaluation</h2>
  <!-- end headline ==================================================================== -->

  <!-- eval form ==================================================================== -->
  <div class="alert alert-secondary">
    <form id="ipet-eval-form">

      <h4>Testruns</h4>
      <div class="rb-testrun-table">
        {% raw ipet_legend_table %}
      </div>

      <h4>Options</h4>
      <div class="row">
        <div class="form-group col-12 col-sm-6">
          <div class="row">
            <label class="col-form-label col-6">
              Select an IPET evaluation:</label>
            <div class="col-6">
              <select class="form-control" name="ipet-eval-file" id="ipet-eval-file-select">
                {% for id,e in evals.items() %}
                <option value="{{ id }}">{{ e["name"] }}</option>
                {% end %}
              </select>
            </div>
          </div>
        </div>

        <div class="form-group col-12 col-sm-6">
          <div class="row">
            <label class="col-form-label col-6">
              Adjust feasibility tolerance:</label>
            <div class="col-6">
              <input class="form-control" id="eval-tolerance-slider" type="text" value="-6"
                                                                                 data-slider-min="-9" data-slider-max="-3" data-slider-step="1" data-slider-value="-6"
                                                                                                                                                data-slider-orientation="horizontal" data-slider-selection="after" data-slider-tooltip="show">
            </div>
          </div>
        </div>

        <div class="col-12">
          <div class="row">
            <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
              <button type="button" class="btn btn-block btn-primary"   id="ipet-eval-button">Evaluate</button>
            </div>
            <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
              <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-show-log">Show Info Window</button>
            </div>
            <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
              <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-show-button">Show evalfile</button>
            </div>
            <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
              <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-download-button">Download evalfile</button>
            </div>
            <div class="col-12 col-sm-6 col-md-3 col-xl-2 rb-buttons">
              <button type="button" class="btn btn-block btn-secondary" id="ipet-eval-latex-button">Generate latex table*</button>
            </div>
          </div>
        </div>

        <div class="col-12">
          <p class="rb-warning m-2">
          * Experimental feature: Use it with "group by githash..." and make sure you are comparing two runs or two seeded/permutation runs.
          </p>
        </div>

      </div>

    </form>
  </div>
  <!-- end eval form ==================================================================== -->

  {% include "evaluation.html" %}

  {% if sets.get("difference") %}
  <h3>Exclusions</h3>
  <div>
    <p>
    The following {{ len(sets["difference"]) }} instances are not present in all of the compared test sets, and have therefore been ommitted from the tables below:
    </p><p class="exclusions">
    {{", ".join(sets['difference'])}}
    </p>
  </div>
  {% end %}


  <!-- Show Evalfile Modal -->
  {% module Template("modal.html", id="info-modal", modalheading="Information", modalbody='''
  <pre lang="xml" id="info-modal-content">
  </pre>
  ''') %}

</div>
