<div aria-labelledby="details-tab" role="tabpanel" class="tab-pane fade active show" id="details">
  <div class="row">
    <h3 class="tab-title col-12 col-sm-3 col-md-4 col-xl-6">Details</h3>
    <div class="tab-buttons col-12 col-sm-9 col-md-8 col-xl-6 text-right">
      <a class="bs-tooltip col-sm-2" data-toggle="tooltip" data-placement="top" href="/compare?base={{ file.meta.id }}{% if comparelist is not None %}&compare={{ comparelist }}{% end %}" title="add comparison runs">
        <span class="fa fa-plus"></span></a>
      {% if fileoptions[".out"] %}
      <a class="bs-tooltip col-sm-2" data-toggle="tooltip" data-placement="top" href="/file/{{file.meta.id}}" title="view log file">
        <span class="fa fa-info-circle"></span></a>
      {% end %}
      {% if fileoptions[".meta"] %}
      <a class="bs-tooltip col-sm-2" data-toggle="tooltip" data-placement="top" href="/file/{{file.meta.id}}?ftype=.meta" title="view meta file">
        <span class="fa fa-paperclip"></span></a>
      {% end %}
      {% if fileoptions[".err"] %}
      <a class="bs-tooltip col-sm-2" data-toggle="tooltip" data-placement="top" href="/file/{{file.meta.id}}?ftype=.err" title="view error file">
        <span class="fa fa-exclamation-circle"></span></a>
      {% end %}
      <a class="bs-tooltip col-sm-2" data-toggle="modal"   data-placement="top" href="" data-target="#downloadSummaryOptions" title="download results">
        <span class="fa fa-file-download" ></span></a>
      <a class="bs-tooltip col-sm-2" data-toggle="modal"   data-placement="top" href="" data-target="#deleteResultModal" title="delete result">
        <span class="fa fa-trash-alt"></span></a>
      {% if fileoptions[".out"] %}
      <a class="bs-tooltip col-sm-2" data-toggle="modal"   data-placement="top" href="" data-target="#reimportResultModal" title="reimport result">
        <span class="fa fa-redo"></span></a>
      {% end %}
      {% if fileoptions[".out"] or fileoptions[".meta"] or fileoptions[".err"] %}
      <a class="bs-tooltip col-sm-2" data-toggle="tooltip" data-placement="top" href="{{ downloadzip }}" title="download zip archive">
        <span class="fa fa-gift"></span></a>
      {% end %}
    </div>
  </div>

  {% if compare %}
    <form action="/compare" method="post">
      <div class="btn-toolbar col-12 alert alert-info">
        <label class="col-sm-6 col-md-8 col-xl-10">Change comparison base.</label>
        <button type="submit" class="btn btn-primary col-sm-6 col-md-4 col-xl-2">Submit</button>
      </div>
    {% end %}
      <h4>Testruns</h4>
      {% raw rendered_results_table %}
    {% if compare %}
    </form>
  {% end %}

  {% if sets.get("difference") %}
  <h4>Exclusions</h4>
  <p>The following {{ len(sets["difference"]) }} instances are not present in all of the compared test sets, and have therefore been ommitted from the table below:</p>
  <p>{{", ".join(sets['difference'])}}</p>
  {% end %}
  <div class="row datatables-content">
    <table class="results-table compact table-hover data-table" width="100%">
    {% if compare %}
    {% include "compare_res.html" %}
    {% else %}
    {% include "res.html" %}
    {% end %}
    </table>
  </div>
  <h4>How do I interpret the comparison view?</h4>
  <p>
  The color of the cell represents how the value for that particular instance compares.

  A green cell indicates that the value of the baserun is better than all the comparisons, red means that it is the worse than all the others.
  The color intensity corresponds to the quotient of the basevalue to the nearest comparison value.

  For green cells the nearest comparison value is the smallest of the comparisons;
  for red cells the nearest comparison value is the largest of the comparisons.

  A grey cell indicates uncomparable values or that one of the values is zero.
  For the primal and dual bounds columns, the intensity reflects the relative difference between the values.
  In a comparison of more than two testruns, the grey scale value is chosen according to the magnitude of the relative standard deviation.

  The color intensities in nodes and time columns are computed after a shift of 100 nodes and 1 second, respectively.
  </p>

</div>

<!-- Download Modal -->
<div class="modal fade" id="downloadSummaryOptions" tabindex="-1" role="dialog" aria-labelledby="summaryDownloadLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="summaryDownloadLabel">Download Formats</h4>
      </div>
      <div class="modal-body">
      <h5>Full Results</h5>
      <ul>
        <li><a href="/file/{{file.meta.id}}?download=true&ftype=.out&format=raw" download="{{ file.get_filename(ending='.out') }}">plaintext</a></li>
        <li><a href="/file/{{file.meta.id}}?download=true&ftype=.out&format=gzip" download="{{ file.get_filename(ending='.out') }}.gz">gzip</a></li>
        <li><a href="/file/{{file.meta.id}}?download=true&ftype=.out&format=json" download="{{ file.get_filename(ending='.out') }}.json">json</a></li>
	<li>csv (coming soon!)</li>
        </ul>
	<h5>Summary Results</h5>
	  <ul>
	    <li>json (coming soon!)</li>
	    <li>csv (coming soon!)</li>
	  </ul>
      </div>
    </div>
  </div>
</div>

<!-- Delete Result Modal -->
<div class="modal fade" id="deleteResultModal" tabindex="-1" role="dialog" aria-labelledby="deleteResultLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="deleteResultLabel">Delete</h4>
      </div>
      <div class="modal-body">
        <p>Are you sure that you want to delete this result?</p>
        <button type="button" id="delete-result" class="btn btn-danger">Yes! I know what I'm doing.</button>
      </div>
    </div>
  </div>
</div>

<!-- Reimport Result Modal -->
<div class="modal fade" id="reimportResultModal" tabindex="-1" role="dialog" aria-labelledby="reimportResultLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="reimportResultLabel">Reimport</h4>
      </div>
      <div class="modal-body">
        <p>Are you sure that you want to reimport this result?</p>
	      <button type="button" id="reimport-result" class="btn btn-danger">Yes! I know what I'm doing.</button>
      </div>
    </div>
  </div>
</div>

<!-- Show Evalfile Modal -->
<div id="info-modal" class="modal" tabindex="-1" role="dialog" aria-labelledby="info-modal">
  <div class="modal-dialog" role="document" style="width: 70%">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" id="info-modal-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="">Information</h4>
      </div>
      <div class="modal-body">
        <pre lang="xml" id="info-modal-content">
        </pre>
      </div>
    </div>
  </div>
</div>

