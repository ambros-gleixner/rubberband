{% extends "wide.html" %}

<!------------------ extra css -------------->
{% block extra_css %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css"/>
{% end %}

<!------------------ extra js -------------->
{% block extra_js %}
<script type="text/javascript" src=" https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js "></script>
<script type="text/javascript" src="https://cdn.datatables.net/fixedcolumns/3.2.3/js/dataTables.fixedColumns.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.16/sorting/datetime-moment.js"></script>
<script type="text/javascript" src="/static/js/clickableRow.js"></script>
<script type="text/javascript" src="/static/js/search.js"></script>
<script type="text/javascript" src="/static/js/compare.js"></script>
{% end %}

<!------------------ body -------------->
{% block content %}

<form id="form-search" class="alert alert-secondary">
  <h2>Search for testruns:</h2>
  <fieldset>
    <div class="row">
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="testset-select">Test Set</label>
        <select class="custom-select col-8" name="test_set" id="testset-select">
          <option></option>
          {% for i in search_options["test_set"] %}
          <option value="{{i}}" {% if search_options["defaults"] and search_options["defaults"]["test_set"] == i %} selected {% end %}{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="runmode-select">Run Mode</label>
        <select class="custom-select col-8" name="mode" id="runmode-select">
          <option></option>
          {% for i in search_options["mode"] %}
          <option value="{{i}}" {% if search_options["defaults"] and search_options["defaults"]["mode"] == i %} selected {% end %}{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="solver-select">Solver</label>
        <select class="custom-select col-8" name="solver" id="solver-select">
          <option></option>
          {% for i in search_options["solver"] %}
          <option value="{{i}}"{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="solverversion-select">Solver Version</label>
        <select class="custom-select col-8" name="solver_version" id="solverversion-select">
          <option></option>
          {% for i in search_options["solver_version"] %}
          <option value="{{i}}"{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="lpsolver-select">LP Solver</label>
        <select class="custom-select col-8" name="lp_solver" id="lpsolver-select">
          <option></option>
          {% for i in search_options["lp_solver"] %}
          <option value="{{i}}"{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="lpsolverversion-select">LP Solver Version</label>
        <select class="custom-select col-8" name="lp_solver_version" id="lpsolverversion-select">
          <option></option>
          {% for i in search_options["lp_solver_version"] %}
          <option value="{{i}}"{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="settingsname-select">Settings Name</label>
        <select class="custom-select col-8" name="settings_short_name" id="settingsname-select">
          <option></option>
          {% for i in search_options["settings_short_name"] %}
          <option value="{{i}}"{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="uploadername-select">Original Uploader</label>
        <select class="custom-select col-8" name="uploader" id="uploadername-select">
          <option></option>
          {% for i in search_options["uploader"] %}
          <option value="{{i}}"{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="runenvironment-select">Hostname</label>
        <select class="custom-select col-8" name="run_environment" id="runenvironment-select">
          <option></option>
          {% for i in search_options["run_environment"] %}
          <option value="{{i}}"{% if i == "---------" %} disabled {% end %}>{{ i }}</option>
          {% end %}
        </select>
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="commithash-input">Solver Commit Hash</label>
        <input class="form-control col-8" name="git_hash" id="commithash-input">
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="tags">Tag(s)</label>
        <input class="form-control col-8" name="tags" id="tags">
      </div>
      <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3">
        <label class="col-form-label col-4" for="resultnumber-input">Number of results</label>
        <input class="form-control col-8" name="limit" id="resultnumber-input" value="100" type="number">
      </div>
    </div>
    <div class="form-group row col-12 col-sm-6 col-md-4 col-xl-3" role="group">
      <button id="search-button" type="button" class="btn btn-primary col">Search</button>
      <button id="reset-search-button" type="button" class="btn btn-danger col">Reset</button>
    </div>
  </fieldset>
</form>

{% block action %}
<form action="/compare" method="post">
<div class="rb-btn-group">
<button type="submit" class="btn btn-primary">Compare Selected Runs</button>
</div>
<br />
{% end %}

<div id="results-table">
</div>
</form>
{% end %}
